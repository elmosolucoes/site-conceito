<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="CONCEITO Consultoria">
  <meta name="robots" content="index, follow">
  <meta property="og:title" content="CONCEITO | Consultoria Empresarial Premium">
  <meta property="og:description" content="Transformação empresarial de alto impacto com metodologia exclusiva">
  <meta property="og:type" content="website">
  <meta name="theme-color" content="#001F3F">
  <link rel="canonical" href="https://conceito.com.br">
  <title data-field="pageTitle" class="editable">CONCEITO | Consultoria Empresarial Premium - Versão 24</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Montserrat:wght@300;400;500;600;700;900&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    body { font-family: 'Montserrat', Arial, sans-serif; }
    .admin-panel {
      position: fixed;
      top: 0;
      right: -400px;
      width: 400px;
      height: 100vh;
      background: white;
      box-shadow: -5px 0 15px rgba(0,0,0,0.1);
      transition: right 0.3s ease;
      z-index: 1000;
      overflow-y: auto;
    }
    .admin-panel.open { right: 0; }
    .admin-toggle {
      position: fixed;
      top: 50%;
      right: 10px;
      transform: translateY(-50%);
      background: #001F3F;
      color: white;
      border: none;
      padding: 10px;
      border-radius: 50%;
      cursor: pointer;
      z-index: 1001;
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .editable {
      position: relative;
      cursor: pointer;
      transition: all 0.3s ease;
      min-height: 20px;
      display: inline-block;
    }
    .admin-logged-in .editable:hover {
      outline: 2px dashed #0066CC;
      outline-offset: 2px;
      background-color: rgba(0, 102, 204, 0.1);
    }
    .login-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
    }
    .login-form {
      background: white;
      padding: 2rem;
      border-radius: 8px;
      width: 300px;
    }
    .add-btn {
      background: #0066CC;
      color: #fff;
      border: none;
      border-radius: 4px;
      padding: 6px 12px;
      cursor: pointer;
      margin-bottom: 12px;
    }
    .add-btn:hover { background: #0052A3; }
    .remove-btn { position: absolute; top: 4px; right: 4px; background: #e53e3e; color: #fff; border: none; border-radius: 50%; width: 24px; height: 24px; cursor: pointer; font-size: 14px; display: none; }
    .admin-logged-in .remove-btn { display: block; }
    .gallery-img { max-width: 100%; border-radius: 8px; margin-bottom: 8px; }
    .gallery-item, .video-item { position: relative; margin-bottom: 24px; }
  </style>
</head>
<body class="font-['Montserrat'] bg-gray-50">

<!-- Botão Engrenagem Admin -->
<button class="admin-toggle" onclick="toggleAdmin()">
  <i class="fas fa-cog"></i>
</button>

<!-- Modal de Login -->
<div id="loginModal" class="login-modal" style="display: none;">
  <div class="login-form">
    <h3 class="text-xl font-bold mb-4">Acesso Administrativo</h3>
    <form onsubmit="handleLogin(event)">
      <div class="mb-4">
        <label class="block text-gray-700 mb-2">Login:</label>
        <input type="text" id="loginUser" class="w-full px-3 py-2 border rounded" required>
      </div>
      <div class="mb-4">
        <label class="block text-gray-700 mb-2">Senha:</label>
        <input type="password" id="loginPass" class="w-full px-3 py-2 border rounded" required>
      </div>
      <button type="submit" class="w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700">
        Entrar
      </button>
    </form>
  </div>
</div>

<!-- Painel Admin -->
<div id="adminPanel" class="admin-panel" style="right: -400px;">
  <div class="p-4 border-b bg-gray-50">
    <h3 class="text-lg font-bold">Painel Administrativo</h3>
    <button onclick="closeAdmin()" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
      <i class="fas fa-times"></i>
    </button>
  </div>
  <div class="p-4">
    <button onclick="saveChanges()" class="w-full bg-green-600 text-white py-2 px-4 rounded hover:bg-green-700 mb-2">
      <i class="fas fa-save mr-2"></i>Salvar Alterações
    </button>
    <button onclick="loadData()" class="w-full bg-blue-600 text-white py-2 px-4 rounded hover:bg-blue-700">
      <i class="fas fa-refresh mr-2"></i>Recarregar Dados
    </button>
  </div>
</div>

<script>
let isLoggedIn = false;

function toggleAdmin() {
  if (!isLoggedIn) {
    document.getElementById('loginModal').style.display = 'flex';
  } else {
    document.getElementById('adminPanel').classList.toggle('open');
  }
}

function handleLogin(event) {
  event.preventDefault();
  const username = document.getElementById('loginUser').value;
  const password = document.getElementById('loginPass').value;
  if (username === 'Admin' && password === 'Euvou*1717') {
    isLoggedIn = true;
    document.getElementById('loginModal').style.display = 'none';
    document.getElementById('adminPanel').classList.add('open');
    document.body.classList.add('admin-logged-in');
    loadData();
  } else {
    alert('Credenciais inválidas!');
  }
}

function closeAdmin() {
  document.getElementById('adminPanel').classList.remove('open');
}

document.addEventListener('click', function(e) {
  const modal = document.getElementById('loginModal');
  if (modal && modal.style.display === 'flex' && e.target === modal) {
    modal.style.display = 'none';
  }
});
</script>

<!-- NAVBAR -->
<nav class="bg-white shadow p-4 flex justify-between items-center">
  <span class="font-bold text-xl editable" data-field="companyName">CONCEITO</span>
  <div>
    <a href="#inicio" class="editable" data-field="navInicio">Início</a>
    <a href="#galeria" class="editable" data-field="navGaleria">Galeria</a>
    <a href="#videos" class="editable" data-field="navVideos">Vídeos</a>
    <a href="#contato" class="editable" data-field="navContato">Contato</a>
    <button class="bg-blue-900 text-white px-3 py-1 rounded editable" data-field="btnContato">Fale Conosco</button>
  </div>
</nav>

<!-- HERO -->
<section id="inicio" class="pt-24 pb-12 bg-blue-900 text-white text-center">
  <h1 class="text-4xl md:text-6xl font-bold editable" data-field="heroTitle">TRANSFORME SEU NEGÓCIO COM CONSULTORIA PREMIUM</h1>
  <p class="mt-4 text-xl editable" data-field="heroSubtitle">Metodologia exclusiva que aumenta em até 300% a eficiência operacional e rentabilidade de empresas em 12 meses.</p>
</section>

<!-- Galeria de Fotos -->
<section id="galeria" class="py-12 bg-white">
  <div class="container mx-auto">
    <h2 class="text-3xl font-bold text-center mb-8 editable" data-field="galeriaTitulo">Galeria de Fotos</h2>
    <div id="gallery" class="grid grid-cols-1 md:grid-cols-3 gap-8"></div>
    <button class="add-btn" onclick="addGalleryImage()">Adicionar Foto</button>
  </div>
</section>

<!-- Galeria de Vídeos -->
<section id="videos" class="py-12 bg-gray-100">
  <div class="container mx-auto">
    <h2 class="text-3xl font-bold text-center mb-8 editable" data-field="videosTitulo">Vídeos</h2>
    <div id="videoGallery" class="grid grid-cols-1 md:grid-cols-2 gap-8"></div>
    <button class="add-btn" onclick="addVideo()">Adicionar Vídeo do YouTube</button>
  </div>
</section>

<!-- CONTATO -->
<section id="contato" class="py-16 bg-white">
  <div class="container mx-auto max-w-lg">
    <h2 class="text-2xl font-bold mb-6 editable" data-field="contatoTitulo">Fale Conosco</h2>
    <form id="contact-form" class="space-y-4">
      <input id="name" type="text" placeholder="Seu nome" class="w-full border p-2 rounded" required>
      <input id="email-form" type="email" placeholder="Seu e-mail" class="w-full border p-2 rounded" required>
      <input id="company" type="text" placeholder="Empresa" class="w-full border p-2 rounded">
      <input id="phone-form" type="tel" placeholder="Telefone" class="w-full border p-2 rounded">
      <textarea id="message" placeholder="Mensagem" class="w-full border p-2 rounded" required></textarea>
      <button type="submit" class="w-full bg-blue-900 text-white py-2 rounded editable" data-field="btnEnviarContato">Enviar</button>
    </form>
    <div class="mt-8">
      <p><i class="fa fa-phone"></i> <span class="editable" data-field="phone">(11) 9999-9999</span></p>
      <p><i class="fa fa-envelope"></i> <span class="editable" data-field="email">contato@conceito.com.br</span></p>
      <p><i class="fa fa-map-marker-alt"></i> <span class="editable" data-field="address">São Paulo, SP - Brasil</span></p>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer class="bg-blue-900 text-white text-center py-6 mt-12">
  <div class="editable" data-field="footerText">© 2024 CONCEITO Consultoria. Todos os direitos reservados.</div>
</footer>

<script>
const editableFields = [
  "pageTitle", "companyName", "navInicio", "navGaleria", "navVideos", "navContato", "btnContato", "heroTitle", "heroSubtitle",
  "galeriaTitulo", "videosTitulo", "btnEnviarContato", "contatoTitulo", "phone", "email", "address", "footerText"
];

let siteData = {};
let gallery = [];
let videos = [];

async function fetchSiteData() {
  try {
    const res = await fetch('/.netlify/functions/siteData');
    if (res.ok) return await res.json();
    throw new Error('Erro ao buscar dados do backend');
  } catch (e) {
    return JSON.parse(localStorage.getItem('siteData')) || {};
  }
}

async function saveSiteData(data) {
  try {
    const res = await fetch('/.netlify/functions/siteData', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(data)
    });
    if (!res.ok) throw new Error('Falha ao salvar no backend');
    return true;
  } catch (e) {
    localStorage.setItem('siteData', JSON.stringify(data));
    return false;
  }
}

function updatePageContent() {
  editableFields.forEach(field => {
    const elements = document.querySelectorAll(`[data-field="${field}"]`);
    elements.forEach(element => {
      if (element.tagName === 'TITLE') {
        element.textContent = siteData[field] || element.textContent;
        document.title = siteData[field] || element.textContent;
      } else {
        if (siteData[field] !== undefined) element.innerHTML = siteData[field];
      }
    });
    const adminInput = document.getElementById(field);
    if (adminInput && siteData[field] !== undefined) adminInput.value = siteData[field];
  });
  renderGallery();
  renderVideos();
}

async function loadData() {
  const loadedData = await fetchSiteData();
  siteData = { ...siteData, ...(loadedData.siteData || loadedData) };
  gallery = loadedData.gallery || [];
  videos = loadedData.videos || [];
  updatePageContent();
}

async function saveChanges() {
  await saveSiteData({ siteData, gallery, videos });
  alert('Alterações salvas!');
}

function updateContent(field, value) {
  siteData[field] = value;
  updatePageContent();
}

document.addEventListener('DOMContentLoaded', function() {
  editableFields.forEach(field => {
    const el = document.querySelector(`[data-field="${field}"]`);
    if (el) siteData[field] = el.textContent;
  });
  updatePageContent();
  loadData();

  document.querySelectorAll('.editable').forEach(el => {
    el.addEventListener('dblclick', function() {
      if (!document.body.classList.contains('admin-logged-in')) return;
      const field = el.getAttribute('data-field');
      const oldValue = el.textContent;
      el.setAttribute('contenteditable', 'true');
      el.focus();
      el.onblur = function() {
        el.removeAttribute('contenteditable');
        const newValue = el.textContent;
        if (newValue !== oldValue) {
          updateContent(field, newValue);
        }
      };
    });
  });
  document.querySelectorAll('.editable-img').forEach(el => {
    el.addEventListener('click', function() {
      if (!document.body.classList.contains('admin-logged-in')) return;
      const field = el.getAttribute('data-field');
      const fileInput = document.createElement('input');
      fileInput.type = 'file';
      fileInput.accept = 'image/*';
      fileInput.onchange = function() { handleImageUpload(field, this); };
      fileInput.click();
    });
  });
});

async function handleImageUpload(field, fileInput) {
  const file = fileInput.files[0];
  if (file) {
    if (file.size > 5 * 1024 * 1024) {
      alert('Arquivo muito grande! Máximo 5MB permitido.');
      fileInput.value = '';
      return;
    }
    if (!file.type.startsWith('image/')) {
      alert('Por favor, selecione apenas arquivos de imagem.');
      fileInput.value = '';
      return;
    }
    const formData = new FormData();
    formData.append('image', file);
    formData.append('filename', file.name);
    try {
      const response = await fetch('/.netlify/functions/github-images', {
        method: 'POST',
        body: formData
      });
      if (response.ok) {
        const result = await response.json();
        updateContent(field, result.url);
        siteData[field] = result.url;
        alert('Imagem enviada e salva com sucesso!');
      } else {
        throw new Error('Falha no upload da imagem');
      }
    } catch (error) {
      alert('Erro ao enviar imagem para o servidor.');
    }
  }
}

function renderGallery() {
  const galleryDiv = document.getElementById('gallery');
  if (!galleryDiv) return;
  galleryDiv.innerHTML = '';
  gallery.forEach((item, idx) => {
    const div = document.createElement('div');
    div.className = 'gallery-item';
    div.innerHTML = `
      <img src="${item.url}" alt="${item.desc}" class="gallery-img" style="max-width:100%;border-radius:8px;margin-bottom:8px;">
      <div class="editable" data-field="gallery-desc-${idx}" ondblclick="editGalleryDesc(${idx})">${item.desc || 'Sem descrição'}</div>
      <button class="remove-btn" onclick="removeGalleryImage(${idx})" title="Remover">×</button>
    `;
    galleryDiv.appendChild(div);
  });
}
function addGalleryImage() {
  if (!document.body.classList.contains('admin-logged-in')) return alert('Apenas admin pode adicionar fotos!');
  const fileInput = document.createElement('input');
  fileInput.type = 'file';
  fileInput.accept = 'image/*';
  fileInput.onchange = async function() {
    const file = fileInput.files[0];
    if (!file) return;
    if (file.size > 5 * 1024 * 1024) return alert('Máximo 5MB!');
    const formData = new FormData();
    formData.append('image', file);
    formData.append('filename', file.name);
    try {
      const response = await fetch('/.netlify/functions/github-images', {
        method: 'POST',
        body: formData
      });
      if (response.ok) {
        const result = await response.json();
        const desc = prompt('Descrição da foto:') || '';
        gallery.push({ url: result.url, desc });
        renderGallery();
        saveChanges();
      } else {
        throw new Error('Falha no upload');
      }
    } catch (error) {
      alert('Erro ao enviar imagem');
    }
  };
  fileInput.click();
}
function removeGalleryImage(idx) {
  if (!document.body.classList.contains('admin-logged-in')) return;
  if (confirm('Remover esta foto?')) {
    gallery.splice(idx, 1);
    renderGallery();
    saveChanges();
  }
}
function editGalleryDesc(idx) {
  if (!document.body.classList.contains('admin-logged-in')) return;
  const newDesc = prompt('Nova descrição:', gallery[idx].desc || '');
  if (newDesc !== null) {
    gallery[idx].desc = newDesc;
    renderGallery();
    saveChanges();
  }
}

function renderVideos() {
  const videoDiv = document.getElementById('videoGallery');
  if (!videoDiv) return;
  videoDiv.innerHTML = '';
  videos.forEach((item, idx) => {
    const div = document.createElement('div');
    div.className = 'video-item';
    div.innerHTML = `
      <div class="aspect-w-16 aspect-h-9 mb-2">
        <iframe src="https://www.youtube.com/embed/${item.youtubeId}" frameborder="0" allowfullscreen class="w-full h-64"></iframe>
      </div>
      <div class="editable" data-field="video-desc-${idx}" ondblclick="editVideoDesc(${idx})">${item.desc || 'Sem descrição'}</div>
      <button class="remove-btn" onclick="removeVideo(${idx})" title="Remover">×</button>
    `;
    videoDiv.appendChild(div);
  });
}
function addVideo() {
  if (!document.body.classList.contains('admin-logged-in')) return alert('Apenas admin pode adicionar vídeos!');
  const url = prompt('Cole a URL do vídeo do YouTube:');
  if (!url) return;
  const match = url.match(/(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([A-Za-z0-9_-]{11})/);
  if (!match) return alert('URL inválida!');
  const youtubeId = match[1];
  const desc = prompt('Descrição do vídeo:') || '';
  videos.push({ youtubeId, desc });
  renderVideos();
  saveChanges();
}
function removeVideo(idx) {
  if (!document.body.classList.contains('admin-logged-in')) return;
  if (confirm('Remover este vídeo?')) {
    videos.splice(idx, 1);
    renderVideos();
    saveChanges();
  }
}
function editVideoDesc(idx) {
  if (!document.body.classList.contains('admin-logged-in')) return;
  const newDesc = prompt('Nova descrição:', videos[idx].desc || '');
  if (newDesc !== null) {
    videos[idx].desc = newDesc;
    renderVideos();
    saveChanges();
  }
}
</script>
</body>
</html>