<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CONCEITO | Consultoria Empresarial</title>
  
  <!-- CSS -->
  <link href="https://cdn.tailwindcss.com" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="assets/css/styles.css">
  <link rel="stylesheet" href="assets/css/admin.css">
  
  <style>
    :root {
      --primary-color: #001F3F;
      --secondary-color: #0066CC;
    }
    
    .hero-bg {
      background-image: url('assets/imagens/hero/hero.jpg');
    }
  </style>
</head>
<body class="font-sans antialiased text-gray-800">
  <!-- Cabeçalho -->
  <header class="bg-white shadow-md">
    <div class="container mx-auto px-4 py-4 flex justify-between items-center">
      <div class="text-3xl font-bold text-blue-900" data-editable="header-logo">CONCEITO</div>
      <nav class="hidden md:flex space-x-8">
        <a href="#servicos" class="text-blue-900 hover:text-blue-600" data-editable="nav-servicos">Serviços</a>
        <a href="#sobre" class="text-blue-900 hover:text-blue-600" data-editable="nav-sobre">Sobre Nós</a>
        <a href="#contato" class="text-blue-900 hover:text-blue-600" data-editable="nav-contato">Contato</a>
      </nav>
    </div>
  </header>

  <!-- Seção Hero -->
  <section class="hero-bg bg-cover bg-center text-white py-32">
    <div class="container mx-auto px-4">
      <h1 class="text-4xl md:text-6xl font-bold mb-6" data-editable="hero-title">Transforme Seu Negócio</h1>
      <p class="text-xl mb-8 max-w-lg" data-editable="hero-subtitle">Soluções empresariais premium para crescimento sustentável</p>
      <button class="bg-yellow-400 text-blue-900 font-bold py-3 px-8 rounded-lg" data-editable="hero-button">Fale Conosco</button>
    </div>
  </section>

  <!-- Seção Serviços -->
  <section id="servicos" class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-5xl font-bold text-center mb-16" data-editable="services-title">Nossos Serviços</h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <!-- Serviço 1 -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
          <img src="assets/imagens/service1.jpg" alt="Serviço 1" class="w-full h-48 object-cover" data-editable-img="service1-image">
          <div class="p-6">
            <h3 class="text-xl font-bold mb-4" data-editable="service1-title">Consultoria Estratégica</h3>
            <p class="text-gray-600 mb-4" data-editable="service1-desc">Desenvolvimento de estratégias personalizadas para seu negócio.</p>
            <a href="#" class="text-blue-600 font-medium" data-editable="service1-link">Saiba mais →</a>
          </div>
        </div>
        
        <!-- Serviço 2 -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
          <img src="assets/imagens/service2.jpg" alt="Serviço 2" class="w-full h-48 object-cover" data-editable-img="service2-image">
          <div class="p-6">
            <h3 class="text-xl font-bold mb-4" data-editable="service2-title">Otimização de Processos</h3>
            <p class="text-gray-600 mb-4" data-editable="service2-desc">Redução de custos e aumento de eficiência operacional.</p>
            <a href="#" class="text-blue-600 font-medium" data-editable="service2-link">Saiba mais →</a>
          </div>
        </div>
        
        <!-- Serviço 3 -->
        <div class="bg-white rounded-lg shadow-md overflow-hidden">
          <img src="assets/imagens/service3.jpg" alt="Serviço 3" class="w-full h-48 object-cover" data-editable-img="service3-image">
          <div class="p-6">
            <h3 class="text-xl font-bold mb-4" data-editable="service3-title">Gestão Empresarial</h3>
            <p class="text-gray-600 mb-4" data-editable="service3-desc">Soluções completas para gestão do seu negócio.</p>
            <a href="#" class="text-blue-600 font-medium" data-editable="service3-link">Saiba mais →</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Seção Sobre -->
  <section id="sobre" class="py-20 bg-white">
    <div class="container mx-auto px-4 md:flex items-center">
      <div class="md:w-1/2 mb-12 md:mb-0 md:pr-12">
        <h2 class="text-3xl md:text-5xl font-bold mb-6" data-editable="about-title">Sobre a CONCEITO</h2>
        <p class="text-gray-700 mb-6" data-editable="about-desc1">Fundada em 2005, a CONCEITO se consolidou como uma das principais consultorias empresariais do Brasil.</p>
        <p class="text-gray-700 mb-6" data-editable="about-desc2">Nossa equipe é composta por especialistas com experiência prática em gestão empresarial.</p>
      </div>
      <div class="md:w-1/2">
        <img src="assets/imagens/service4.jpg" alt="Sobre Nós" class="rounded-lg shadow-xl" data-editable-img="about-image">
      </div>
    </div>
  </section>

  <!-- Seção Contato -->
  <section id="contato" class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl md:text-5xl font-bold text-center mb-16" data-editable="contact-title">Entre em Contato</h2>
      
      <div class="bg-white rounded-lg shadow-md p-8 max-w-4xl mx-auto">
        <form id="contact-form" class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div>
            <label class="block text-sm font-medium mb-1" data-editable="form-label-name">Nome Completo</label>
            <input type="text" class="w-full p-3 border rounded-lg">
          </div>
          <div>
            <label class="block text-sm font-medium mb-1" data-editable="form-label-email">Email</label>
            <input type="email" class="w-full p-3 border rounded-lg">
          </div>
          <div class="md:col-span-2">
            <label class="block text-sm font-medium mb-1" data-editable="form-label-message">Mensagem</label>
            <textarea rows="4" class="w-full p-3 border rounded-lg"></textarea>
          </div>
          <button type="submit" class="md:col-span-2 bg-blue-900 text-white font-bold py-3 px-6 rounded-lg" data-editable="form-button">
            Enviar Mensagem
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- Rodapé -->
  <footer class="bg-blue-900 text-white py-12">
    <div class="container mx-auto px-4">
      <div class="md:flex justify-between">
        <div class="mb-8 md:mb-0">
          <div class="text-3xl font-bold mb-4" data-editable="footer-logo">CONCEITO</div>
          <p class="max-w-xs" data-editable="footer-desc">Consultoria empresarial premium com foco em resultados extraordinários.</p>
        </div>
        
        <div class="grid grid-cols-2 md:grid-cols-3 gap-8">
          <div>
            <h3 class="text-lg font-bold mb-4" data-editable="footer-links-title">Links</h3>
            <ul class="space-y-2">
              <li><a href="#servicos" class="hover:text-yellow-300" data-editable="footer-link1">Serviços</a></li>
              <li><a href="#sobre" class="hover:text-yellow-300" data-editable="footer-link2">Sobre Nós</a></li>
              <li><a href="#contato" class="hover:text-yellow-300" data-editable="footer-link3">Contato</a></li>
            </ul>
          </div>
          
          <div>
            <h3 class="text-lg font-bold mb-4" data-editable="footer-contact-title">Contato</h3>
            <ul class="space-y-2">
              <li data-editable="footer-address">Av. Paulista, 1000 - São Paulo/SP</li>
              <li data-editable="footer-phone">(11) 9999-9999</li>
              <li data-editable="footer-email">contato@conceito.com.br</li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="border-t border-blue-800 mt-12 pt-8 text-center text-sm text-blue-200">
        <p data-editable="footer-copyright">© 2023 CONCEITO Consultoria. Todos os direitos reservados.</p>
      </div>
    </div>
  </footer>

  <!-- Painel Administrativo -->
  <div id="admin-panel" class="fixed bottom-4 left-4 z-50 hidden">
    <button id="admin-toggle" class="bg-blue-900 text-white p-3 rounded-full shadow-lg">
      <i class="fas fa-cog"></i>
    </button>
    
    <div class="bg-white rounded-lg shadow-xl p-4 mt-2 w-80 max-h-[90vh] overflow-y-auto">
      <!-- Seção de Login -->
      <div id="login-section">
        <form id="admin-login-form" class="space-y-4">
          <h3 class="text-lg font-bold">Acesso Administrativo</h3>
          <div>
            <label class="block text-sm font-medium mb-1">Usuário</label>
            <input type="text" name="username" class="w-full p-2 border rounded" required>
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">Senha</label>
            <input type="password" name="password" class="w-full p-2 border rounded" required>
          </div>
          <button type="submit" class="w-full bg-blue-900 text-white py-2 rounded">
            Entrar
          </button>
        </form>
      </div>
      
      <!-- Controles Administrativos -->
      <div id="admin-controls" class="hidden space-y-4">
        <div class="flex justify-between items-center">
          <h3 class="text-lg font-bold">Painel de Controle</h3>
          <button id="admin-logout" class="text-sm text-gray-500 hover:text-gray-700">
            Sair <i class="fas fa-sign-out-alt ml-1"></i>
          </button>
        </div>
        
        <div class="border-t pt-4">
          <button id="edit-toggle" class="w-full bg-blue-600 text-white py-2 rounded mb-4">
            <i class="fas fa-edit mr-2"></i>Ativar Edição
          </button>
          
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2">Cor Primária</label>
            <input type="color" id="primary-color" value="#001F3F" class="w-full h-10 cursor-pointer">
          </div>
          
          <div class="mb-4">
            <label class="block text-sm font-medium mb-2">Cor Secundária</label>
            <input type="color" id="secondary-color" value="#0066CC" class="w-full h-10 cursor-pointer">
          </div>
          
          <button id="save-changes" class="w-full bg-green-600 text-white py-2 rounded">
            <i class="fas fa-save mr-2"></i>Salvar Alterações
          </button>
          
          <div id="admin-status" class="text-sm mt-2"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="assets/js/main.js"></script>
  <script>
    // Configurações do Painel Admin
    const ADMIN_CONFIG = {
      github: {
        repo: 'elmosolucoes/site-conceito',
        branch: 'main',
        configPath: 'site-config.json'
      },
      auth: {
        username: 'admin',
        password: 'Euvou*1717'
      }
    };

    class AdminPanel {
      constructor() {
        this.state = {
          editMode: false,
          authenticated: localStorage.getItem('adminAuth') === 'true',
          changes: {}
        };
        
        this.init();
      }

      async init() {
        this.cacheElements();
        this.setupEventListeners();
        
        if (this.state.authenticated) {
          await this.loadConfig();
          this.setupAdminUI();
        }
      }

      cacheElements() {
        this.elements = {
          adminBtn: document.getElementById('admin-toggle'),
          adminPanel: document.getElementById('admin-panel'),
          loginForm: document.getElementById('admin-login-form'),
          editToggle: document.getElementById('edit-toggle'),
          saveBtn: document.getElementById('save-changes'),
          primaryColor: document.getElementById('primary-color'),
          secondaryColor: document.getElementById('secondary-color'),
          statusMsg: document.getElementById('admin-status'),
          logoutBtn: document.getElementById('admin-logout')
        };
      }

      setupEventListeners() {
        // Botão de toggle do painel
        this.elements.adminBtn.addEventListener('click', () => {
          this.elements.adminPanel.classList.toggle('hidden');
        });

        // Formulário de login
        this.elements.loginForm.addEventListener('submit', async (e) => {
          e.preventDefault();
          await this.handleLogin();
        });

        // Controle de edição
        this.elements.editToggle.addEventListener('click', () => {
          this.toggleEditMode();
        });

        // Botão de salvar
        this.elements.saveBtn.addEventListener('click', async () => {
          await this.saveChanges();
        });

        // Seletor de cores
        this.elements.primaryColor.addEventListener('change', (e) => {
          this.updateColor('primary', e.target.value);
        });

        this.elements.secondaryColor.addEventListener('change', (e) => {
          this.updateColor('secondary', e.target.value);
        });

        // Logout
        this.elements.logoutBtn.addEventListener('click', () => {
          this.handleLogout();
        });
      }

      async handleLogin() {
        const formData = new FormData(this.elements.loginForm);
        const credentials = {
          username: formData.get('username'),
          password: formData.get('password')
        };

        if (credentials.username === ADMIN_CONFIG.auth.username && 
            credentials.password === ADMIN_CONFIG.auth.password) {
          this.state.authenticated = true;
          localStorage.setItem('adminAuth', 'true');
          await this.loadConfig();
          this.setupAdminUI();
          this.showStatus('Login realizado com sucesso', 'success');
        } else {
          this.showStatus('Credenciais inválidas', 'error');
        }
      }

      handleLogout() {
        this.state.authenticated = false;
        localStorage.removeItem('adminAuth');
        this.elements.loginForm.classList.remove('hidden');
        document.getElementById('admin-controls').classList.add('hidden');
        this.disableEditing();
        this.showStatus('Logout realizado', 'info');
      }

      toggleEditMode() {
        this.state.editMode = !this.state.editMode;
        
        if (this.state.editMode) {
          this.enableEditing();
          this.elements.editToggle.innerHTML = '<i class="fas fa-eye mr-2"></i>Desativar Edição';
          this.elements.editToggle.classList.remove('bg-blue-600');
          this.elements.editToggle.classList.add('bg-red-600');
        } else {
          this.disableEditing();
          this.elements.editToggle.innerHTML = '<i class="fas fa-edit mr-2"></i>Ativar Edição';
          this.elements.editToggle.classList.remove('bg-red-600');
          this.elements.editToggle.classList.add('bg-blue-600');
        }
      }

      enableEditing() {
        // Elementos de texto
        document.querySelectorAll('[data-editable]').forEach(el => {
          el.contentEditable = true;
          el.classList.add('editable-active');
          
          el.addEventListener('blur', () => {
            const key = el.dataset.editable;
            this.recordChange('content', key, el.textContent);
          });
        });

        // Imagens
        document.querySelectorAll('[data-editable-img]').forEach(img => {
          img.style.cursor = 'pointer';
          
          img.addEventListener('click', async () => {
            if (!this.state.editMode) return;
            
            const newUrl = prompt('Nova URL da imagem:', img.src);
            if (newUrl && newUrl !== img.src) {
              img.src = newUrl;
              const key = img.dataset.editableImg;
              this.recordChange('images', key, newUrl);
            }
          });
        });
      }

      disableEditing() {
        document.querySelectorAll('[data-editable], [data-editable-img]').forEach(el => {
          el.contentEditable = false;
          el.classList.remove('editable-active');
          el.style.cursor = '';
        });
      }

      updateColor(type, value) {
        document.documentElement.style.setProperty(`--${type}-color`, value);
        this.recordChange('theme', `${type}Color`, value);
      }

      recordChange(category, key, value) {
        this.state.changes[category] = this.state.changes[category] || {};
        this.state.changes[category][key] = value;
        this.showStatus(`Alteração registrada: ${key}`, 'info');
      }

      async loadConfig() {
        try {
          const response = await fetch(`https://raw.githubusercontent.com/${ADMIN_CONFIG.github.repo}/${ADMIN_CONFIG.github.branch}/${ADMIN_CONFIG.github.configPath}`);
          
          if (response.ok) {
            const config = await response.json();
            
            // Aplicar configurações de tema
            if (config.theme) {
              if (config.theme.primaryColor) {
                this.elements.primaryColor.value = config.theme.primaryColor;
                this.updateColor('primary', config.theme.primaryColor);
              }
              if (config.theme.secondaryColor) {
                this.elements.secondaryColor.value = config.theme.secondaryColor;
                this.updateColor('secondary', config.theme.secondaryColor);
              }
            }
            
            // Aplicar conteúdo
            if (config.content) {
              Object.entries(config.content).forEach(([key, value]) => {
                const el = document.querySelector(`[data-editable="${key}"]`);
                if (el) el.textContent = value;
              });
            }
            
            // Aplicar imagens
            if (config.images) {
              Object.entries(config.images).forEach(([key, value]) => {
                const el = document.querySelector(`[data-editable-img="${key}"]`);
                if (el) el.src = value;
              });
            }
          }
        } catch (error) {
          console.error('Erro ao carregar configurações:', error);
        }
      }

      async saveChanges() {
        if (Object.keys(this.state.changes).length === 0) {
          this.showStatus('Nenhuma alteração para salvar', 'warning');
          return;
        }

        try {
          this.elements.saveBtn.disabled = true;
          this.showStatus('Salvando alterações...', 'info');

          // Simulação de salvamento - em produção, use Netlify Function ou GitHub API
          console.log('Alterações a serem salvas:', this.state.changes);
          
          // Simular delay de salvamento
          await new Promise(resolve => setTimeout(resolve, 1500));
          
          this.showStatus('Alterações salvas com sucesso!', 'success');
          this.state.changes = {};
          
        } catch (error) {
          console.error('Erro ao salvar:', error);
          this.showStatus(`Erro: ${error.message}`, 'error');
        } finally {
          this.elements.saveBtn.disabled = false;
        }
      }

      showStatus(message, type = 'info') {
        const types = {
          info: 'text-blue-600',
          success: 'text-green-600',
          warning: 'text-yellow-600',
          error: 'text-red-600'
        };
        
        this.elements.statusMsg.textContent = message;
        this.elements.statusMsg.className = `text-sm ${types[type]}`;
        setTimeout(() => {
          this.elements.statusMsg.textContent = '';
        }, 5000);
      }

      setupAdminUI() {
        this.elements.loginForm.classList.add('hidden');
        document.getElementById('admin-controls').classList.remove('hidden');
      }
    }

    // Inicializar quando o DOM estiver pronto
    document.addEventListener('DOMContentLoaded', () => {
      new AdminPanel();
    });
  </script>
</body>
</html>